<!DOCTYPE html>
 <!-- Alyssa Gonzales Intuitive Internship Assignment -->
<html>

<!-- style setup -->
	<head> 
		<!--banner placement-->
		<div class="header">
			<img src="/Users/alyssagonzales/Desktop/IProj/assignment-banner.png" class="img-fluid" alt="Responsive image">
    	</div>
		
        <meta name="viewport" content="width=device-width, initial-scale=1">

           <title> Alyssa - Intuitive Assignment</title>  
           <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		   <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
           <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />  
           <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
		   <script> src="assignment.json"</script>
		
	</head> 
<!-- toolbar -->
	<body>
	<nav class="navbar navbar-default">
  		<div class="container-fluid">
    		<ul class="nav navbar-nav navbar-center">
				<li id="card"><a href="card.html">Cardiac</a></li>
				<li id="thor"> <a href="thor.html">Thoracic</a></li>
				<li id="col"><a href="col.html">Colorectal</a></li>
				<li id="gen"><a href="gen.html">General Surgery</a></li>
				<li id="gyn"><a href="gyn.html">Gynecology</a></li>
				<li id="hn"><a href="hn.html">Head & Neck</a></li>
				<li id="ur"><a href="ur.html">Urology</a></li>
    		</ul>
  		</div>
		</nav>
	</body>
	
<!-- Left Column Set up -->
<body> 
<div class="row">
          <div class="col-md-3" style="width:400px;">
             <div class="search">
                   <h4 class="title">Find a da Vinci Surgeon</h4>
                   <form>
						<div class="form-group">
							<label for="exampleFormControlInput1">Location</label>
							<input type="text" name="search" id="search" class= "form-control" placeholder = "State" />
						</div>
						<div class="form-group">
							<label  for="exampleFormControlSelect1">Surgical Speciality</label>
							<input type="text" name="search" id= "search2" class= "form-control" placeholder = "Specialty"/>
						</div>
         			</form>
                </div>
             </div>


<!-- table set-up -->
	
		 <div class ="col-md-4">
           <div class="container" style="width:900px;">  
                  <div class="table-responsive">
                  <h1>Search Results</h1>
                  <br />
                    <table class="table table-bordered table-striped" id="assignment_table">
                      <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>City</th>
                        <th>State</th>
                        <th>Specialty</th>
                        <th>Contact Surgeon</th>
                      </tr>
                    </table>
                  </div> 
            </div>
		</div>
           <br />  
</div>
</body>

<!-- assigns json data to table -->
	<script>
	$(document).ready(function(){
			$.getJSON("assignment.json", function(data){
				var assignment_data = '';
				$.each(data, function(key,value){
					assignment_data += '<tr>';
						//separating first and last
						var str = value.name;
						var split = str.split(" ");
						assignment_data += '<td>'+split[0]+'</td>';
						assignment_data += '<td>'+split[1]+'</td>';
						assignment_data += '<td>'+value.city+'</td>';
						assignment_data += '<td>'+value.state+'</td>';
						assignment_data += '<td>'+value.specialty+'</td>';
						assignment_data += '<td>'+value.email+'</td>';
						assignment_data += '</tr>';
				});
				$('#assignment_table').append(assignment_data); 
			});
		});
	</script>
</html>

<!-- script used to sort search results-->
<script> 
      $(document).ready(function(){  
           $('#search').keyup(function(){ 
               search_table($(this).val());
			   
           });
		  
		  	$('#search2').keyup(function(){
				   search_table($(this).val());
			 });
		  
          function search_table(value){  
                $('#assignment_table tr').each(function(){ 
					var x = document.getElementById("search2");
                     var found = 'false';  
                     $(this).each(function(){  
                          if($(this).text().toLowerCase().indexOf(value.toLowerCase()) >= 0)  
                          {  
                               found = 'true';  
                          }  
                     });  
                     if(found == 'true')  
                     {  
                          $(this).show();  
                     }  
                     else  
                     {  
                          $(this).remove(); 
                     }  
                });
           }  
      });

 </script>